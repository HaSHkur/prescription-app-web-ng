<mat-sidenav-container class="h-screen w-full bg-slate-50">
  <mat-sidenav #drawer 
               [mode]="(isHandset$ | async) ? 'over' : 'side'" 
               [opened]="!(isHandset$ | async)"
               [class.w-64]="!collapsed"
               [class.w-20]="collapsed"
               class="border-r border-gray-200 transition-all duration-300">
    
    <div class="flex flex-col h-full bg-white">
      
      <div class="p-4 flex items-center justify-between border-b">
        <div class="flex items-center gap-3">
          <span *ngIf="!collapsed" class="text-2xl">ðŸŸ¦</span>
          <span *ngIf="!collapsed" class="font-bold text-lg text-indigo-600">Prescription Assistant</span>
        </div>
        <button (click)="onToggle()" class="p-2 hover:bg-gray-100 rounded-lg">
          <mat-icon>{{ collapsed ? 'menu' : 'menu_open' }}</mat-icon>
        </button>
      </div>

      <mat-nav-list class="flex-grow px-3 mt-4">
        <a mat-list-item *ngFor="let i of nav" [routerLink]="i.path" routerLinkActive="bg-indigo-50 text-indigo-700" 
        [routerLinkActiveOptions]="{ exact: i.path === '/' }" class="rounded-lg mb-1 transition-colors hover:bg-gray-100">
          <mat-icon matListItemIcon class="text-gray-500">{{ i.icon }}</mat-icon>
          <span matListItemTitle *ngIf="!collapsed">{{ i.label }}</span>
        </a>
      </mat-nav-list>

      <div class="flex flex-col h-full bg-white">
  
        <div class="flex-grow">
            </div>

        <div class="p-3 border-t">
            <button (click)="onLogout()" 
                    class="flex items-center w-full p-3 rounded-lg text-red-600 hover:bg-red-50 transition-colors group">
            <mat-icon class="mr-3 group-hover:scale-110 transition-transform">logout</mat-icon>
            <span *ngIf="!collapsed" class="font-medium">Logout</span>
            </button>
            
            <div *ngIf="!collapsed" class="mt-2 px-3 text-[10px] uppercase tracking-widest text-gray-400">
            Made by Ankur
            </div>
        </div>
        </div>

      <div *ngIf="!collapsed" class="p-4 border-t text-xs text-gray-400">
        Ankur
      </div>
    </div>
  </mat-sidenav>

  <mat-sidenav-content class="bg-white">
    <header *ngIf="isHandset$ | async" class="flex items-center p-4 border-b bg-white lg:hidden">
      <button (click)="drawer.toggle()" class="p-2">
        <mat-icon>menu</mat-icon>
      </button>
      <span class="ml-3 font-semibold">Dashboard</span>
    </header>

    <main>
      <ng-content></ng-content>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>